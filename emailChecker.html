<!DOCTYPE html>

<html>

<head>

    <div style="text-align:center;">
        <h1 style="font:helvetica">
            EMAIL CHECKER
        </h1>
    </div>
</head>

<body>

    <p style="text-align:center">
        please enter your gmail
    </p>
    <div style="text-align:center">
        <form action="" method="get">
            <input type="text" id="inputBox" placeholder="xxxxxxx@gmail.com etc.">
            <input type="button" id="button" value="Enter">
        </form>
        <p id="errorMessage"></p>
    </div>

    <script>
        const inputBox = document.getElementById("inputBox");
        const button = document.getElementById("button");
        const errorBox = document.getElementById("errorMessage");

        button.disabled = true;

        inputBox.addEventListener("input", (event) => {
            const value = event.target.value;
            let text = "";
            const valid = (value) => {
                let whiteSpacesValid = true;
                for (let i = 0; i < value.length; i++) {
                    if (value.charAt(i) === " ") {
                        whiteSpacesValid = false;
                    }
                }
                
                if (!value.endsWith('gmail.com')) {
                    text = "not a gmail address"; 
                }else if (!whiteSpacesValid){
                     text = "no whitespaces allowed" 
                    } else {
                        text ="";
                        return true;
                     } return false;
            };

            if ( value.length > 0){
                button.disabled = !valid(value);
                errorBox.innerHTML = text;
            } else {
                button.disabled = true;
                errorBox.innerHTML = "";
            }
        });
    </script>
</body>

</html>